<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">

	<head>
		<title>PdfJs demo page</title>
	</head>

	<body>

		<div wicket:id="pdfJsPanel" class="pdfPanel"></div>

		<div>
			<button id="prev">Previous</button>
			<button id="next">Next</button>
			<button id="zoomIn">Zoom In</button>
			<button id="zoomOut">Zoom Out</button>
			&nbsp; &nbsp;
			<span>Page: <input id="page_num"></input> / <span id="page_count"></span></span>
		</div>

		<script type="text/javascript">
			$(function () {
			    var canvasId = $('.pdfPanel canvas').attr('id');

				$('#prev').click(function () {
					Wicket.Event.publish(WicketStuff.PDFJS.Topic.PREVIOUS_PAGE, {"canvasId": canvasId});
				});
				$('#next').click(function () {
					Wicket.Event.publish(WicketStuff.PDFJS.Topic.NEXT_PAGE, {"canvasId": canvasId});
				});
				$('#zoomIn').click(function () {
					Wicket.Event.publish(WicketStuff.PDFJS.Topic.ZOOM_IN, {"canvasId": canvasId});
				});
				$('#zoomOut').click(function () {
					Wicket.Event.publish(WicketStuff.PDFJS.Topic.ZOOM_OUT, {"canvasId": canvasId});
				});
				 $('#page_num').change(function () {
					var page = parseInt($(this).val());
					Wicket.Event.publish(WicketStuff.PDFJS.Topic.GOTO_PAGE, {"canvasId": canvasId, "page" : page});
				});
                Wicket.Event.subscribe(WicketStuff.PDFJS.Topic.CURRENT_PAGE, function (jqEvent, pageNumber, data) {
                    $('#'+data.canvasId).closest('.pdfPanel').siblings().find('#page_num').val(pageNumber);
                });
				Wicket.Event.subscribe(WicketStuff.PDFJS.Topic.TOTAL_PAGES, function (jqEvent, total, data) {
					$('#'+data.canvasId).closest('.pdfPanel').siblings().find('#page_count').text(total);
				});
			});
		</script>

	</body>

</html>
